---
title: Accordion
description: Documentation on Accordion Svelte Runia component
---

import { Card, Icon } from "@astrojs/starlight/components";
import AccordionExample from "./accordion/AccordionExample.svelte";
import { A11y, API, Features, Links } from "./_components";

<div class="text-xl text-[var(--sl-color-gray-2)]">
    Set of interactive headings that allow you to toggle the visibility of the associated section of
    content - the accordion panel.
</div>

:::tip[Fun fact]
The Accordion component is named after the musical [accordion](https://en.wikipedia.org/wiki/Accordion).

But did you know the accordion is a family of instruments that includes the [harmonica](https://en.wikipedia.org/wiki/Harmonica)?
:::

## Example

<AccordionExample client:load />

#### Features

<Features
    features={[
        "Full keyboard navigation.",
        "Supports animating content.",
        "Can expand one or multiple items",
        "Supports horizontal/vertical orientation.",
        "Supports Right to Left direction."
    ]}
/>

<hr />

<Links componentName="accordion" ariaLink="https://www.w3.org/WAI/ARIA/apg/patterns/accordion/" />

## Usage

Importing `Accordion` gives you access to the `Root`, `Item`, `Header`, `Trigger`, and `Content` components.

```svelte
<script lang="ts">
    import { Accordion } from "@niklasburggraaff/svelte-runia";
</script>

<Accordion.Root type="single">
    <Accordion.Item value="item">
        <Accordion.Header level={3}>
            <Accordion.Trigger />
        </Accordion.Header>
        <Accordion.Content />
    </Accordion.Item>
</Accordion.Root>
```

-   The `Root` _can_ contain multiple `Item`'s and _must_ be passed a `type` prop
-   Each `Item` _must_ contain a `Header` and `Content` and _must_ be passed a **unique** `value` prop
-   A `Header` _must_ contain (_only_) a `Trigger` and is _must_ be passed a `level` prop

## API

### Root

<API.Introduction
    name="Root"
    element="div"
    description="contains all other components of an accordion. It manages the state of the accordion."
/>

#### Props

<API.Props
    props={[
        {
            name: "type",
            required: true,
            type: "'single' | 'multiple'",
            defaultValue: undefined,
            description:
                "Determines if a single accordion panel or multiple accordion panels can be visible."
        },
        {
            name: "value",
            type: "string | null",
            bindable: true,
            defaultValue: undefined,
            description:
                "If `type = 'single'`: The value of the expanded accordion panel, `null` if the accordion is collapsed."
        },
        {
            name: "defaultValue",
            type: "string",
            defaultValue: undefined,
            description: "If `type = 'single'`: The accordion panel to be expanded by default."
        },
        {
            name: "values",
            type: "string[]",
            bindable: true,
            defaultValue: undefined,
            description: "If `type = 'multiple'`: The values of the expanded accordion panels."
        },
        {
            name: "defaultValues",
            type: "string[]",
            defaultValue: undefined,
            description: "If `type = 'multiple'`: The accordion panels to be expanded by default."
        },
        {
            name: "collapsible",
            type: "boolean",
            defaultValue: "false",
            description:
                "If `type = 'single'`: When `true`, prevents the currently visible accordion panel from being collapsed."
        },
        {
            name: "disabled",
            type: "boolean",
            defaultValue: "false",
            description: "When `true`, prevents the user from interacting with the accordion."
        },
        {
            name: "loop",
            type: "boolean",
            defaultValue: "true",
            description:
                "When `true`, keyboard navigation will loop focus from the last item to the first item and vice versa."
        },
        {
            name: "orientation",
            type: "'vertical' | 'horizontal'",
            defaultValue: "'vertical'",
            description:
                "The orientation of the accordion, which determines which arrow keys are used for keyboard navigation."
        },
        {
            name: "direction",
            type: "'ltr' | rtl'",
            defaultValue: "'ltr'",
            description: "If `orientation = 'horizontal'`: The reading direction of the accordion."
        },
        {
            name: "element",
            type: "HTMLDivElement",
            bindable: true,
            defaultValue: undefined,
            description: "The rendered `div` element."
        }
    ]}
/>

#### Data attributes

<API.DataAttributes
    attributes={[
        {
            name: "data-orientation",
            public: true,
            values: "'vertical' | 'horizontal'",
            description: "The orientation of the accordion."
        }
    ]}
/>

### Item

<API.Introduction
    name="Item"
    element={{
        default: "div",
        other: "section",
        condition: "If the `region=true`"
    }}
    description="represents one item in the accordion with an accordion panel and it's heading."
/>

#### Props

<API.Props
    props={[
        {
            name: "value",
            required: true,
            type: "string",
            bindable: true,
            defaultValue: undefined,
            description: "The value used to identify the accordion panel."
        },
        {
            name: "disabled",
            type: "boolean",
            defaultValue: "false",
            description: "When `true`, prevents the user from interacting with the item."
        },
        {
            name: "region",
            type: "boolean",
            defaultValue: "false",
            description:
                "When `true`, the item is a `section` element. Avoid using with many (~6) panels to prevent landmark region proliferation. This is especially helpful when accordion panels contain headings or a nested accordion."
        },
        {
            name: "element",
            type: "HTMLDivElement | HTMLElement",
            bindable: true,
            defaultValue: undefined,
            description: "The rendered `div` or `section` element."
        }
    ]}
/>

#### Data attributes

<API.DataAttributes
    attributes={[
        {
            name: "data-state",
            public: true,
            values: "'open' | 'closed'",
            description: "The state of the accordion panel."
        },
        {
            name: "data-disabled",
            public: true,
            values: undefined,
            description: "Present when the accordion or item is disabled."
        },
        {
            name: "data-orientation",
            public: true,
            values: "'vertical' | 'horizontal'",
            description: "The orientation of the accordion."
        }
    ]}
/>

### Header

<API.Introduction
    name="Header"
    element={{
        default: {
            values: ["h2", "h3", "h4", "h5", "h6"],
            condition: "`level`"
        },
        other: "div",
        condition: "If `useHeading=false`"
    }}
    description="represents the heading for an accordion panel."
/>

#### Props

<API.Props
    props={[
        {
            name: "level",
            required: true,
            type: "2 | 3 | 4 | 5 | 6",
            defaultValue: undefined,
            description:
                "The level of heading for the element (`1` not supported as a page should have a single `h1` element)."
        },
        {
            name: "useHeading",
            type: "boolean",
            defaultValue: "true",
            description:
                "When `true`, the heading is a `div` element with `aria-level` set to the heading level, instead of a native heading element."
        },
        {
            name: "element",
            type: "HTMLHeadingElement | HTMLDivElement",
            bindable: true,
            defaultValue: undefined,
            description: "The rendered `heading` or `div` element."
        }
    ]}
/>

#### Data attributes

<API.DataAttributes attributes={[]} />

### Trigger

<API.Introduction
    name="Trigger"
    element="button"
    description="toggles the visibility of the associated accordion panel."
/>

#### Props

<API.Props
    props={[
        {
            name: "element",
            type: "HTMLButtonElement",
            bindable: true,
            defaultValue: undefined,
            description: "The rendered `button` element."
        }
    ]}
/>

#### Data attributes

<API.DataAttributes
    attributes={[
        {
            name: "data-state",
            public: true,
            values: "'open' | 'closed'",
            description: "The state of the accordion panel."
        },
        {
            name: "data-disabled",
            public: true,
            values: undefined,
            description: "Present when the accordion or item is disabled."
        },
        {
            name: "data-orientation",
            public: true,
            values: "'vertical' | 'horizontal'",
            description: "The orientation of the accordion."
        },
        {
            name: "data-svelte-runia-accordion-trigger",
            values: undefined,
            description: "Present on all `Trigger`'s. Used by `Root` to find them."
        },
        {
            name: "data-svelte-runia-value",
            values: "string",
            description: "The value identifying the associated accordion panel."
        }
    ]}
/>

### Content

<API.Introduction
    name="Content"
    element="div"
    description="is the accordion panel that can be toggled."
/>

#### Props

<API.Props
    props={[
        {
            name: "element",
            type: "HTMLDivElement",
            bindable: true,
            defaultValue: undefined,
            description: "The rendered `div` element."
        }
    ]}
/>

#### Data attributes

<API.DataAttributes
    attributes={[
        {
            name: "data-state",
            public: true,
            values: "'open' | 'closed'",
            description: "The state of the accordion panel."
        },
        {
            name: "data-disabled",
            public: true,
            values: undefined,
            description: "Present when the accordion or item is disabled."
        },
        {
            name: "data-orientation",
            public: true,
            values: "'vertical' | 'horizontal'",
            description: "The orientation of the accordion."
        }
    ]}
/>

## Accessibility

Adheres to the [WAI-ARIA Accordion Pattern (Sections With Show/Hide Functionality)](https://www.w3.org/WAI/ARIA/apg/patterns/accordion/).

### Keyboard interactions

<A11y.Keyboard
    interactions={[
        {
            keys: ["Enter", "Space"],
            condition: "If focus on a `Trigger`",
            action: "Attempts to toggle the panel."
        },
        {
            keys: ["Tab", "Shift + Tab"],
            condition: undefined,
            action: "Move focus to the next/previous focussable element."
        },
        {
            keys: ["Arrow Down", "Arrow Up"],
            condition: "If focus on a `Trigger` (and the `orientation = 'vertical'`)",
            action: "Move focus to the next/previous `Trigger`."
        },
        {
            keys: ["Arrow Right", "Arrow Left"],
            condition: "If `orientation = 'horizontal'` and focus is on a `Trigger`",
            action: "Move focus to the `Trigger` to the right/left (depending on `direction`)."
        },
        {
            keys: ["Home", "End"],
            condition: "If focus on a `Trigger`",
            action: "Move focus to the first/last `Trigger`."
        }
    ]}
/>

#### Other events

<A11y.Events
    events={[
        {
            element: "Trigger",
            event: "onclick",
            action: "Attempts to toggle the panel."
        }
    ]}
/>

### ARIA attributes

#### Root

<A11y.ARIAAttributes attributes={[]} />

#### Item

<A11y.ARIAAttributes
    attributes={[
        {
            name: "aria-labelledby",
            type: "string",
            description: "ID of the corresponding `Trigger` element."
        }
    ]}
/>

#### Header

<A11y.ARIAAttributes
    attributes={[
        {
            name: "aria-level",
            type: "number",
            description: "If `useHeading = false`: the heading level."
        }
    ]}
/>

#### Trigger

<A11y.ARIAAttributes
    attributes={[
        {
            name: "aria-disabled",
            type: "'true' | 'false'",
            description:
                "`'true'` when the accordion or item is disabled, or if the associated accordion panel is visible and the accordion doesn't allow collapsing."
        },
        {
            name: "aria-controls",
            type: "string",
            description: "Present when the accordion or item is disabled."
        },
        {
            name: "aria-expanded",
            type: "'true' | 'false'",
            description: "`'true'` when the content of the accordion panel is visible."
        }
    ]}
/>

#### Content

<A11y.ARIAAttributes attributes={[]} />

## Examples

### Collapse all items

Use the `collapsible` prop to allow the currently expanded accordion panel to be collapsed.

```svelte
<Accordion.Root type="single" collapsible>
    <Accordion.Item value="item-1">...</Accordion.Item>
    <Accordion.Item value="item-2">...</Accordion.Item>
</Accordion.Root>
```

### Expand by default

Use the `defaultValue` prop to set the initial item to be expanded.

```svelte
<Accordion.Root type="single" defaultValue="item-1">
    <Accordion.Item value="item-1">...</Accordion.Item>
    <Accordion.Item value="item-2">...</Accordion.Item>
</Accordion.Root>
```

### Expand multiple items

Set type `type` props to `"multiple"` to allow multiple items to be expanded.

```svelte
<Accordion.Root type="multiple">
    <Accordion.Item value="item-1">...</Accordion.Item>
    <Accordion.Item value="item-2">...</Accordion.Item>
</Accordion.Root>
```

### Control the expanded item

Bind the `value: string` prop of the `Root` component to a variable to control the expanded item.
This allows both reading and writing the value of the expanded item.

```svelte
<script>
    let value = $state("item-1");
</script>

<Accordion.Root type="single" bind:value>
    <Accordion.Item value="item-1">...</Accordion.Item>
    <Accordion.Item value="item-2">...</Accordion.Item>
</Accordion.Root>
```

For `type="multiple"` instead use the `values: string[]` prop to control the expanded items.

### Animated content

Apply a transition, i.e. `slide` which works well with the accordion, to a child of the `Content` component.

```svelte
<script lang="ts">
    import { slide } from "svelte/transition";
</script>

<Accordion.Root type="single" animate>
    <Accordion.Item value="item-1">
        <Accordion.Header level={3}>...</Accordion.Header>
        <Accordion.Content>
            <div transition:slide={{ duration: 200 }}>...</div>
        </Accordion.Content>
    </Accordion.Item>
    ...
</Accordion.Root>
```

### Animated trigger icon

The `data-state` data attribute can be used to animate the trigger icon.
It will be set to `open` when the content of the accordion panel is visible.

```svelte
<script lang="ts">
    import { IconSVG } from "...";
</script>

<Accordion.Root type="single" animate>
    <Accordion.Item value="item-1">
        <Accordion.Header level={3}>
            <Accordion.Trigger class="[&[data-state=open]>span>svg]:rotate-180">
                Item 1
                <IconSVG class="transition-transform duration-200" />
            </Accordion.Trigger>
        </Accordion.Header>
        <Accordion.Content>...</Accordion.Content>
    </Accordion.Item>
    ...
</Accordion.Root>
```
