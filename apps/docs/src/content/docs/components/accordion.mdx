---
title: Accordion
description: Documentation on Accordion Svelte Runia component
---

import { Card, Icon } from "@astrojs/starlight/components";
import AccordionExample from "./_accordion/AccordionExample.svelte";

<div class="text-xl text-[var(--sl-color-gray-2)]">
    Set of interactive headings that allow you to toggle the visibility of the associated section of
    content - the accordion panel.
</div>

:::tip[Fun fact]
The Accordion component is named after the musical [accordion](https://en.wikipedia.org/wiki/Accordion).

But did you know the accordion is a family of instruments that includes the [harmonica](https://en.wikipedia.org/wiki/Harmonica)?
:::

## Example

<AccordionExample client:load />

#### Features

<ul class="not-content flex flex-col gap-2 ps-0">
    <li class="flex items-center gap-4">
        <Icon class="text-green-500" name="approve-check-circle" size="1.75rem" />
        <span>Full keyboard navigation.</span>
    </li>
    <div class="ps-8">
        <ul>
            <li>
                <kbd>Enter</kbd>/<kbd>Space</kbd> to open/close
            </li>
            <li>
                <kbd>Tab</kbd>/<kbd>Shift+Tab</kbd> or Arrow keys to navigate
            </li>
            <li>
                <kbd>Home</kbd>/<kdb>End</kdb> to navigate to first/last item
            </li>
        </ul>
    </div>
    <li class="flex items-center gap-4">
        <Icon class="text-green-500" name="approve-check-circle" size="1.75rem" />
        <span>Supports animating content.</span>
    </li>
    <li class="flex items-center gap-4">
        <Icon class="text-green-500" name="approve-check-circle" size="1.75rem" />
        <span>Can expand one or multiple items</span>
    </li>
    <li class="flex items-center gap-4">
        <Icon class="text-green-500" name="approve-check-circle" size="1.75rem" />
        <span>Supports horizontal/vertical orientation.</span>
    </li>
    <li class="flex items-center gap-4">
        <Icon class="text-green-500" name="approve-check-circle" size="1.75rem" />
        <span>Supports Right to Left direction.</span>
    </li>
</ul>

<hr />

<div class="not-content flex flex-col">
    <a
        class="flex items-center gap-1 text-[var(--sl-color-text-accent)]"
        href="https://github.com/NiklasBurggraaff/svelte-runia/tree/main/packages/svelte-runia/src/lib/accordion"
        target="_blank"
    >
        View source
        <Icon name="external" size="1rem" />
    </a>
    <a
        class="flex items-center gap-1 text-[var(--sl-color-text-accent)]"
        href="https://www.w3.org/WAI/ARIA/apg/patterns/accordion/"
        target="_blank"
    >
        ARIA design pattern
        <Icon name="external" size="1rem" />
    </a>
</div>

## Usage

Importing `Accordion` gives you access to the `Root`, `Item`, `Header`, `Trigger`, and `Content` components.

```svelte
<script lang="ts">
    import { Accordion } from "@niklasburggraaff/svelte-runia";
</script>

<Accordion.Root type="single">
    <Accordion.Item value="item">
        <Accordion.Header level={3}>
            <Accordion.Trigger />
        </Accordion.Header>
        <Accordion.Content />
    </Accordion.Item>
</Accordion.Root>
```

-   The `Root` _can_ contain multiple `Item`'s and _must_ be passed a `type` prop
-   Each `Item` _must_ contain a `Header` and `Content` and _must_ be passed a **unique** `value` prop
-   A `Header` _must_ contain (_only_) a `Trigger` and is _must_ be passed a `level` prop

## API

### Root

The `Root` component contains all components of the accordion. It manages the state of the accordion.

`Root` is a `div` element.

#### Props

| Prop            | Type                          | Default      | Description                                                                                           |
| --------------- | ----------------------------- | ------------ | ----------------------------------------------------------------------------------------------------- |
| `type`\*        | `"single" \| "multiple"`      | -            | Determines if a single accordion panel or multiple accordion panels can be visible.                   |
| `value`         | `string \| null` (bindable)   | -            | If `type="single"`: The value of the expanded accordion panel, `null` if the accordion is collapsed.  |
| `defaultValue`  | `string`                      | -            | If `type="single"`: The accordion panel to be expanded by default.                                    |
| `values`        | `string[]` (bindable)         | -            | If `type="multiple"`: The values of the expanded accordion panels.                                    |
| `defaultValues` | `string[]`                    | -            | If `type="multiple"`: The accordion panels to be expanded by default.                                 |
| `collapsible`   | `boolean`                     | `false`      | If `type="single"`: When `true`, prevents the currently visible accordion panel from being collapsed. |
| `disabled`      | `boolean`                     | `false`      | When `true`, prevents the user from interacting with the accordion.                                   |
| `loop`          | `boolean`                     | `true`       | When `true`, keyboard navigation will loop focus from the last item to the first item and vice versa. |
| `orientation`   | `"vertical" \| "horizontal"`  | `"vertical"` | The orientation of the accordion, which determines which arrow keys are used for keyboard navigation. |
| `direction`     | `"ltr" \| rtl"`               | `"ltr"`      | If `orientation="horizontal"`: The reading direction of the accordion.                                |
| `element`       | `"HTMLDivElement"` (bindable) | -            | The rendered `div` element.                                                                           |

#### Data attributes

| Attribute            | Values                      | Description                       |
| -------------------- | --------------------------- | --------------------------------- |
| `[data-orientation]` | `"vertical" \| "horizontal" | The orientation of the accordion. |

### Item

The `Item` component represent an accordion panel with it's heading.

`Item` is a `div` (or `section` if the `region` prop is set to `true`) element.

#### Props

| Prop       | Type                                       | Default | Description                                                                                                                                                                                                        |
| ---------- | ------------------------------------------ | ------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `value`\*  | `string`                                   | -       | The value used to identify the accordion panel.                                                                                                                                                                    |
| `disabled` | `boolean`                                  | `false` | When `true`, prevents the user from interacting with the item.                                                                                                                                                     |
| `region`   | `boolean`                                  | `false` | When `true`, the item is a `section` element. Avoid using with many (~6) panels to prevent landmark region proliferation. This is especially helpful when accordion panels contain headings or a nested accordion. |
| `element`  | `HTMLDivElement \| HTMLElement` (bindable) | -       | The rendered `div` or `section` element.                                                                                                                                                                           |

#### Data attributes

| Attribute            | Values                      | Description                                     |
| -------------------- | --------------------------- | ----------------------------------------------- |
| `[data-state]`       | `"open" \| "closed"`        | The state of the accordion panel.               |
| `[data-disabled]`    | -                           | Present when the accordion or item is disabled. |
| `[data-orientation]` | `"vertical" \| "horizontal" | The orientation of the accordion.               |

### Header

The `Header` component represents the heading for an accordion panel.

`Header` is a `h2 | h3 | h4 | h5 | h6` (or `div` if the `useHeading` prop is set to `false`) element.

#### Props

| Prop         | Type                                              | Default | Description                                                                                                                  |
| ------------ | ------------------------------------------------- | ------- | ---------------------------------------------------------------------------------------------------------------------------- |
| `level`\*    | `2 \| 3 \| 4 \| 5 \| 6`                           | -       | The level of heading for the element (`1` not supported as a page should have a single `h1` element).                        |
| `useHeading` | `boolean`                                         | `true`  | When `true`, the heading is a `div` element with `aria-level` set to the heading level, instead of a native heading element. |
| `element`    | `HTMLHeadingElement \| HTMLDivElement` (bindable) | -       | The rendered `heading` or `div` element.                                                                                     |

#### Data attributes

None

### Trigger

The `Trigger` component toggles the visibility of the associated accordion panel.

`Trigger` is a `button` element.

#### Props

| Prop      | Type                                        | Default | Description                    |
| --------- | ------------------------------------------- | ------- | ------------------------------ |
| `element` | `HTMLButtonElement \| undefined` (bindable) | -       | The rendered `button` element. |

#### Data attributes

| Attribute                                 | Values                       | Description                                              |
| ----------------------------------------- | ---------------------------- | -------------------------------------------------------- |
| `[data-state]`                            | `"open" \| "closed"`         | The state of the accordion panel.                        |
| `[data-disabled]`                         | -                            | Present when the accordion or item is disabled.          |
| `[data-orientation]`                      | `"vertical" \| "horizontal"` | The orientation of the accordion.                        |
| (`[data-svelte-runia-accordion-trigger]`) | -                            | Present on all `Trigger`'s. Used by `Root` to find them. |
| (`[data-svelte-runia-value]`)             | `string`                     | The value identifying the associated accordion panel.    |

### Content

The `Content` component is accordion panel that can be toggled.

`Content` is a `div` element.

#### Props

| Prop      | Type                                     | Default | Description                 |
| --------- | ---------------------------------------- | ------- | --------------------------- |
| `element` | `HTMLDivElement \| undefined` (bindable) | -       | The rendered `div` element. |

#### Data attributes

| Attribute            | Values                      | Description                                     |
| -------------------- | --------------------------- | ----------------------------------------------- |
| `[data-state]`       | `"open" \| "closed"`        | The state of the accordion panel.               |
| `[data-disabled]`    | -                           | Present when the accordion or item is disabled. |
| `[data-orientation]` | `"vertical" \| "horizontal" | The orientation of the accordion.               |

## Accessibility

Adheres to the [WAI-ARIA Accordion Pattern (Sections With Show/Hide Functionality)](https://www.w3.org/WAI/ARIA/apg/patterns/accordion/).

### Keyboard interactions

| Key                        | Action                                                                                                                               |
| -------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ |
| `Enter`/`Space`            | If focus on a `Trigger`: attempts to toggle the panel.                                                                               |
| `Tab`/`Shift+Tab`          | Move focus to the next/previous focussable element.                                                                                  |
| `Arrow Down`/`Arrow Up`    | If focus on a `Trigger` (and the `orientation="vertical"`), move focus to the next/previous `Trigger`.                               |
| `Arrow Right`/`Arrow Left` | If `orientation="horizontal"` and focus is on a `Trigger`: move focus to the `Trigger` to the right/left (depending on `direction`). |
| `Home`/`End`               | If focus on a `Trigger`: move focus to the first/last `Trigger`.                                                                     |

#### Other events

| Element   | Event name | Action                        |
| --------- | ---------- | ----------------------------- |
| `Trigger` | `onclick`  | Attempts to toggle the panel. |

### ARIA attributes

#### Root

None

#### Item

| Attribute         | Type     | Description                                |
| ----------------- | -------- | ------------------------------------------ |
| `aria-labelledby` | `string` | ID of the corresponding `Trigger` element. |

#### Header

| Attribute    | Type                 | Description                               |
| ------------ | -------------------- | ----------------------------------------- |
| `aria-level` | `string` (of number) | If `useHeading=false`: the heading level. |

#### Trigger

| Attribute       | Values              | Description                                                                                                                                  |
| --------------- | ------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| `aria-disabled` | `"true" \| "false"` | `"true"` when the accordion or item is disabled, or if the associated accordion panel is visible and the accordion doesn't allow collapsing. |
| `aria-controls` | `string`            | Present when the accordion or item is disabled.                                                                                              |
| `aria-expanded` | `"true" \| "false"` | `"true"` when the content of the accordion panel is visible.                                                                                 |

#### Content

None

## Examples

### Collapse all items

Use the `collapsible` prop to allow the currently expanded accordion panel to be collapsed.

```svelte
<Accordion.Root type="single" collapsible>
    <Accordion.Item value="item-1">...</Accordion.Item>
    <Accordion.Item value="item-2">...</Accordion.Item>
</Accordion.Root>
```

### Expand by default

Use the `defaultValue` prop to set the initial item to be expanded.

```svelte
<Accordion.Root type="single" defaultValue="item-1">
    <Accordion.Item value="item-1">...</Accordion.Item>
    <Accordion.Item value="item-2">...</Accordion.Item>
</Accordion.Root>
```

### Expand multiple items

Set type `type` props to `"multiple"` to allow multiple items to be expanded.

```svelte
<Accordion.Root type="multiple">
    <Accordion.Item value="item-1">...</Accordion.Item>
    <Accordion.Item value="item-2">...</Accordion.Item>
</Accordion.Root>
```

### Controlled

Bind the `value: string` prop of the `Root` component to a variable to control the expanded item.
This allows both reading and writing the value of the expanded item.

```svelte
<script>
    let value = $state("item-1");
</script>

<Accordion.Root type="single" bind:value>
    <Accordion.Item value="item-1">...</Accordion.Item>
    <Accordion.Item value="item-2">...</Accordion.Item>
</Accordion.Root>
```

For `type="multiple"` instead use the `values: string[]` prop to control the expanded items.

### Animated content

Apply a transition, i.e. `slide` which works well with the accordion, to a child of the `Content` component.

```svelte
<script lang="ts">
    import { slide } from "svelte/transition";
</script>

<Accordion.Root type="single" animate>
    <Accordion.Item value="item-1">
        <Accordion.Header level={3}>...</Accordion.Header>
        <Accordion.Content>
            <div transition:slide={{ duration: 200 }}>...</div>
        </Accordion.Content>
    </Accordion.Item>
    ...
</Accordion.Root>
```

### Animated trigger icon

The `data-state` data attribute can be used to animate the trigger icon.
It will be set to `open` when the content of the accordion panel is visible.

```svelte
<script lang="ts">
    import { IconSVG } from "...";
</script>

<Accordion.Root type="single" animate>
    <Accordion.Item value="item-1">
        <Accordion.Header level={3}>
            <Accordion.Trigger class="[&[data-state=open]>span>svg]:rotate-180">
                Item 1
                <IconSVG class="transition-transform duration-200" />
            </Accordion.Trigger>
        </Accordion.Header>
        <Accordion.Content>...</Accordion.Content>
    </Accordion.Item>
    ...
</Accordion.Root>
```
