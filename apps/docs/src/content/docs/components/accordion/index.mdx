---
title: Accordion
description: Documentation on Accordion Svelte Runia component
---

import { Card, Icon } from "@astrojs/starlight/components";
import AccordionExample from "./AccordionExample.svelte";

<div class="text-xl text-[var(--sl-color-gray-2)]">
    Set of interactive headings that allow you to toggle the visibility of the associated section of
    content.
</div>

:::tip[Fun fact]
The Accordion component is named after the musical [accordion](https://en.wikipedia.org/wiki/Accordion).

But did you know the accordion is a family of instruments that includes the [harmonica](https://en.wikipedia.org/wiki/Harmonica)?
:::

## Example

<AccordionExample client:load />

#### Features

<ul class="not-content flex flex-col gap-2 ps-0">
    <li class="flex items-center gap-4">
        <Icon class="text-green-500" name="approve-check-circle" size="1.75rem" />
        <span>
            Full keyboard navigation.
        </span>
    </li>
    <div class="ps-8">
        <ul>
            <li>
                <kbd>Enter</kbd>/<kbd>Space</kbd> to open/close
            </li>
            <li>
                <kbd>Tab</kbd>/<kbd>Shift+Tab</kbd> or Arrow keys to navigate
            </li>
            <li>
                <kbd>Home</kbd>/<kdb>End</kdb> to navigate to first/last item
            </li>
        </ul>
    </div>
    <li class="flex items-center gap-4">
        <Icon class="text-green-500" name="approve-check-circle" size="1.75rem" />
        <span>Supports animating content.</span>
    </li>
    <li class="flex items-center gap-4">
        <Icon class="text-green-500" name="approve-check-circle" size="1.75rem" />
        <span>Can expand one or multiple items</span>
    </li>
    <li class="flex items-center gap-4">
        <Icon class="text-green-500" name="approve-check-circle" size="1.75rem" />
        <span>Supports horizontal/vertical orientation.</span>
    </li>
    <li class="flex items-center gap-4">
        <Icon class="text-green-500" name="approve-check-circle" size="1.75rem" />
        <span>Supports Right to Left direction.</span>
    </li>

</ul>

<div class="not-content flex items-center gap-4">
    <a
        class="flex items-center gap-1 text-[var(--sl-color-text-accent)]"
        href="https://github.com/NiklasBurggraaff/svelte-runia/tree/main/packages/svelte-runia/src/lib/accordion"
        target="_blank"
    >
        View source
        <Icon name="external" size="1rem" />
    </a>
    <a
        class="flex items-center gap-1 text-[var(--sl-color-text-accent)]"
        href="https://www.w3.org/WAI/ARIA/apg/patterns/accordion/"
        target="_blank"
    >
        ARIA design pattern
        <Icon name="external" size="1rem" />
    </a>
</div>

## Usage

Importing `Accordion` gives you access to the `Root`, `Item`, `Header`, `Trigger`, and `Content` components.

```svelte
<script lang="ts">
    import { Accordion } from "@niklasburggraaff/svelte-runia";
</script>

<Accordion.Root type="single">
    <Accordion.Item value="item">
        <Accordion.Header level={3}>
            <Accordion.Trigger />
        </Accordion.Header>
        <Accordion.Content />
    </Accordion.Item>
</Accordion.Root>
```

-   The `Root` _can_ contain multiple `Item`'s and _must_ be passed a `type` prop
-   Each `Item` _must_ contain a `Header` and `Content` and _must_ be passed a **unique** `value` prop
-   A `Header` _must_ contain (_only_) a `Trigger` and is _must_ be passed a `level` prop

## Accessibility

Adheres to the [WAI-ARIA Accordion Pattern (Sections With Show/Hide Functionality)](https://www.w3.org/WAI/ARIA/apg/patterns/accordion/).

### Keyboard interactions

| Key                        | Action                                                                                                                                         |
| -------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| `Enter`/`Space`            | When focus is on a `Trigger`, attempts to toggle the panel                                                                                     |
| `Tab`/`Shift+Tab`          | Move focus to the next/previous focussable element                                                                                             |
| `Arrow Down`/`Arrow Up`    | When focus is on a `Trigger` (and the `orientation` is `"vertical"`), move focus to the next/previous `Trigger`                                |
| `Arrow Right`/`Arrow Left` | When the `orientation` is `"horizontal"` and focus is on a `Trigger`, move focus to the `Trigger` to the right/left (depending on `direction`) |
| `Home`/`End`               | When focus is on a `Trigger`, move focus to the first/last `Trigger`                                                                           |

### ARIA attributes

| Attribute              | Value                  |
| ---------------------- | ---------------------- |
| `role`                 | `tablist`              |
| `aria-multiselectable` | `false`                |
| `aria-expanded`        | `false`                |
| `aria-controls`        | `accordion-content-id` |

## API

Accordion is a component that allows you to toggle between multiple sections of content.

Reference pages are ideal for outlining how things work in terse and clear terms.
Less concerned with telling a story or addressing a specific use case, they should give a comprehensive outline of what you're documenting.

## Examples

### Collapse all items

Use the `collapsible` prop to allow the currently expanded panel to be collapsed.

```svelte
<Accordion.Root type="single" collapsible>
    <Accordion.Item value="item-1">...</Accordion.Item>
    <Accordion.Item value="item-2">...</Accordion.Item>
</Accordion.Root>
```

### Expand by default

Use the `defaultValue` prop to set the initial item to be expanded.

```svelte
<Accordion.Root type="single" defaultValue="item-1">
    <Accordion.Item value="item-1">...</Accordion.Item>
    <Accordion.Item value="item-2">...</Accordion.Item>
</Accordion.Root>
```

### Expand multiple items

Set type `type` props to `"multiple"` to allow multiple items to be expanded.

```svelte
<Accordion.Root type="multiple">
    <Accordion.Item value="item-1">...</Accordion.Item>
    <Accordion.Item value="item-2">...</Accordion.Item>
</Accordion.Root>
```

### Controlled

Bind the `value: string` prop to a variable to control the expanded item.
This allows both reading and writing the value of the expanded item.

```svelte
<script>
    let value = $state("item-1");
</script>

<Accordion.Root type="single" bind:value>
    <Accordion.Item value="item-1">...</Accordion.Item>
    <Accordion.Item value="item-2">...</Accordion.Item>
</Accordion.Root>
```

For `type="multiple"` instead use the `values: string[]` prop to control the expanded items.

### Animated content

TODO: Add transition prop

```svelte
<script lang="ts">
    import { slide } from "svelte/transition";
</script>

<Accordion.Root type="single" animate>
    <Accordion.Item value="item-1">
        <Accordion.Header level={3}>...</Accordion.Header>
        <Accordion.Content>...</Accordion.Content>
    </Accordion.Item>
    ...
</Accordion.Root>
```

### Animated trigger icon

The `data-state` data attribute can be used to animate the trigger icon.
It will be set to `open` when the panel is.

```svelte
<script lang="ts">
    import { IconSVG } from "...";
</script>

<Accordion.Root type="single" animate>
    <Accordion.Item value="item-1">
        <Accordion.Header level={3}>
            <Accordion.Trigger class="[&[data-state=open]>span>svg]:rotate-180">
                Item 1
                <IconSVG class="transition-transform duration-200" />
            </Accordion.Trigger>
        </Accordion.Header>
        <Accordion.Content>...</Accordion.Content>
    </Accordion.Item>
    ...
</Accordion.Root>
```
